# Polyaness コマンドラインインターフェイス標準仕様（ドラフト）

本仕様は、*nixコマンドライン上において「Polyaness 辞書ファイル標準仕様」に準拠した辞書ファイルのレコードを表示するソフトウェアにおける、統一されたインターフェイスを策定するものである。



## オプションを指定せずに実行した場合

### 辞書ファイルが同梱されている場合

```shellsession
$ command_name
うるさい 内面がうるさい

$ echo $?
0
```

- **[MUST]** デフォルトの辞書ファイルから、ランダムで一つ、引用が標準出力されること。
- **[MUST]** 引用が標準出力されたのち、正常終了すること。

### 辞書ファイルが同梱されていない場合

```shellsession
$ command_name
Usage: command_name [OPTION]...
    -l, --list        print all quotes list and exit
    :
    :

$ echo $?
0
```

- **[MUST]** ヘルプが標準出力されること。
- **[MUST]** ヘルプが標準出力されたのち、正常終了すること。



## コマンドオプション

- **[MUST]** 以下のオプションを受け付けること:

|ショートオプション|ロングオプション|内容                                |
|------------------|----------------|------------------------------------|
|`-v`              |`--version`     |コマンドのバージョンを標準出力      |
|`-h`              |`--help`        |ヘルプを標準出力                    |
|`-f`              |`--file`        |辞書ファイルを指定して実行          |

### バージョン表示

```shellsession
$ command_name --version # もしくは `-v'
v0.1.0
```

- **[MUST]** バージョンが標準出力されること。
- **[MUST]** バージョンが標準出力されたのち、正常終了すること。
- **[OPTIONAL]** バージョン以外の情報も含めてもよい。
    - e.g. ソフトウェア名、ライセンス、作者への連絡先...
- **[OPTIONAL]** *ソフトウェア内の処理について、これを冗長的に表示するよう指示するオプション*（`--verbose`）等をソフトウェアが受け付けるようにする際は、これのショートオプションを `-v`としてもよい。ただし、[GNU標準コマンドラインインターフェイス](https://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html)に従い`--version`オプションは必ず受け付けること。

### ヘルプ表示

```shellsession
$ command_name --help # もしくは `-h'
Usage: command_name [OPTION]...
    -l, --list        print all quotes list and exit
    :
    :
```

- **[MUST]** ヘルプが標準出力されること。
- **[MUST]** ヘルプが標準出力されたのち、正常終了すること。
- **[MUST]** ソフトウェアが取りうる全ての引数およびオプションの表示ないし解説をする必要はない。しかし、表示しない場合は、`README.md`や`man`への誘導をヘルプメッセージ内で行うこと。
- **[OPTIONAL]** ヘルプメッセージは、引数およびオプション以外の情報も含めてもよい。
    - e.g. ソフトウェア名、ライセンス、作者への連絡先...
- **[OPTIONAL]** *処理結果について、これの先頭行のみを表示するよう指示するオプション*（`--header`）等をソフトウェアが受け付けるようにする際は、これのショートオプションを `-h`としてもよい。ただし、[GNU標準コマンドラインインターフェイス](https://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html)に従い`--help`オプションは必ず受け付けること。

### 辞書ファイル指定



## 異常終了するケース
